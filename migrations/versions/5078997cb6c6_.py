"""empty message

Revision ID: 5078997cb6c6
Revises: 2614f78ebad2
Create Date: 2016-11-22 01:33:35.487014

"""

# revision identifiers, used by Alembic.
revision = '5078997cb6c6'
down_revision = '2614f78ebad2'

from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

def upgrade():
    ### commands auto generated by Alembic - please adjust! ###
    op.create_table('RiverStation',
    sa.Column('riverstation_id', sa.Integer(), nullable=False),
    sa.Column('riverstation_uid', sa.String(length=64), nullable=False),
    sa.Column('location_code', sa.Integer(), nullable=True),
    sa.Column('osgr_easting', sa.Integer(), nullable=False),
    sa.Column('osgr_northing', sa.Integer(), nullable=False),
    sa.Column('latitude', sa.Float(), nullable=False),
    sa.Column('longitide', sa.Float(), nullable=False),
    sa.PrimaryKeyConstraint('riverstation_id')
    )
    op.create_index(op.f('ix_RiverStation_location_code'), 'RiverStation', ['location_code'], unique=True)
    op.create_index(op.f('ix_RiverStation_riverstation_uid'), 'RiverStation', ['riverstation_uid'], unique=True)
    op.create_table('RiverLevel',
    sa.Column('riverlevel_id', sa.Integer(), nullable=False),
    sa.Column('riverstation_id', sa.Integer(), nullable=False),
    sa.Column('sampled_at', sa.DateTime(), nullable=False),
    sa.Column('archived_at', sa.DateTime(), nullable=False),
    sa.Column('level', sa.Float(), nullable=False),
    sa.ForeignKeyConstraint(['riverstation_id'], ['RiverStation.riverstation_id'], ),
    sa.PrimaryKeyConstraint('riverlevel_id')
    )
    op.drop_table('measurments')
    op.drop_table('stations')
    ### end Alembic commands ###


def downgrade():
    ### commands auto generated by Alembic - please adjust! ###
    op.create_table('stations',
    sa.Column('id', sa.INTEGER(), server_default=sa.text(u"nextval('stations_id_seq'::regclass)"), nullable=False),
    sa.Column('office', sa.VARCHAR(length=64), autoincrement=False, nullable=True),
    sa.Column('station_name', sa.VARCHAR(length=64), autoincrement=False, nullable=True),
    sa.Column('location_code', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.PrimaryKeyConstraint('id', name=u'stations_pkey'),
    postgresql_ignore_search_path=False
    )
    op.create_table('measurments',
    sa.Column('id', sa.INTEGER(), nullable=False),
    sa.Column('station_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('date_time', postgresql.TIMESTAMP(), autoincrement=False, nullable=True),
    sa.Column('value', postgresql.DOUBLE_PRECISION(precision=53), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['station_id'], [u'stations.id'], name=u'measurments_station_id_fkey'),
    sa.PrimaryKeyConstraint('id', name=u'measurments_pkey')
    )
    op.drop_table('RiverLevel')
    op.drop_index(op.f('ix_RiverStation_riverstation_uid'), table_name='RiverStation')
    op.drop_index(op.f('ix_RiverStation_location_code'), table_name='RiverStation')
    op.drop_table('RiverStation')
    ### end Alembic commands ###
